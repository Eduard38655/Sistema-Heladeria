import{a as N,r as s,I,u as E,j as e,U as b,e as A}from"./index-69AZbl_O.js";import{N as y,H as O}from"./Nav-DG8Aara-.js";const U="_Article_Empleados_1j0eg_5",R="_SubContainer_1j0eg_13",w="_EditContainer_1j0eg_28",B="_DivCard_1j0eg_47",P="_DivInfo_1j0eg_70",k="_DivFull_Name_1j0eg_79",V="_DivOpt_1j0eg_105",d={Article_Empleados:U,SubContainer:R,EditContainer:w,DivCard:B,DivInfo:P,DivFull_Name:k,DivOpt:V};function T(){const D=N(),[n,l]=s.useState(""),[g,c]=s.useState(""),[m,o]=s.useState(""),[h,x]=s.useState(""),[i,u]=s.useState(""),[j,a]=s.useState("Empleado"),{isValid:C,SetisValid:f,EmpleadoIDContext:p}=s.useContext(I),v=E(t=>t.Empleados_DataBase.Empleados_Details);s.useEffect(()=>{const t=v.find(r=>r.EmpleadoID===p);t?(l(t.Name),c(t.Apellido),o(t.Username),x(t.Password),u(t.Img),a(t.Role)):(l(""),c(""),o(""),x(""),u(""),a("Empleado"))},[p,v]);function F(){const t={EmpleadoID:p||Date.now(),Name:n,Apellido:g,Username:m,Password:h,Img:i,Role:j,Phone:"000-000-0000",Estado:"Activo",horario:[{horarioID:1,dia:"Lunes",start:"OFF",end:"OFF"},{horarioID:2,dia:"Martes",start:"OFF",end:"OFF"},{horarioID:4,dia:"Jueves",start:"OFF",end:"OFF"},{horarioID:5,dia:"Viernes",start:"OFF",end:"OFF"},{horarioID:6,dia:"SÃ¡bado",start:"OFF",end:"OFF"},{horarioID:7,dia:"Domingo",start:"OFF",end:"OFF"}]};D(b(t)),f(!1)}return e.jsx(e.Fragment,{children:C&&e.jsx("div",{className:d.EditContainer,children:e.jsxs("div",{className:d.DivCard,children:[e.jsx("h2",{children:"Agregar / Editar empleado"}),e.jsxs("div",{className:d.DivInfo,children:[e.jsxs("div",{className:d.DivFull_Name,children:[e.jsxs("div",{children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",value:n,onChange:t=>l(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Apellido"}),e.jsx("input",{type:"text",value:g,onChange:t=>c(t.target.value)})]})]}),e.jsx("label",{style:{marginBottom:"-12px"},children:"UserName"}),e.jsx("input",{type:"email",value:m,onChange:t=>o(t.target.value)}),e.jsx("label",{style:{marginBottom:"-12px"},children:"Password"}),e.jsx("input",{type:"password",value:h,onChange:t=>x(t.target.value)}),e.jsx("label",{style:{marginBottom:"-12px"},children:"URL de la Imagen"}),e.jsx("input",{type:"text",value:i,onChange:t=>u(t.target.value)}),e.jsx("label",{style:{marginBottom:"-12px"},children:"Role"}),e.jsxs("select",{value:j,onChange:t=>a(t.target.value),children:[e.jsx("option",{value:"Empleado",children:"Empleado"}),e.jsx("option",{value:"Admin",children:"Admin"})]})]}),e.jsxs("div",{className:d.DivOpt,children:[e.jsx("button",{onClick:()=>f(!1),children:"Cancelar"}),e.jsx("button",{onClick:F,children:"Guardar"})]})]})})})}const H="_EmpContainer_r9ee9_6",L="_SearchDiv_r9ee9_22",M="_Ent_Table_Container_r9ee9_76",q="_DivAcctiones_r9ee9_127",_={EmpContainer:H,SearchDiv:L,Ent_Table_Container:M,DivAcctiones:q};function G(D){const n=E(t=>t.Empleados_DataBase.Empleados_Details),l=E(t=>t.empleadosinfo.UserData),{isValid:g,SetisValid:c}=s.useContext(I),[m,o]=s.useState(n),[h,x]=s.useState(n),[i,u]=s.useState(""),j=N(),[a,C]=s.useState(""),{EmpleadoIDContext:f,SetEmpleadoIDContexto:p}=s.useContext(I);s.useEffect(()=>{o(n),x(n)},[n,l]),s.useEffect(()=>{C(l.Role)},[l]);const v=E(t=>t.Empleados_DataBase.Empleados_Details);console.log(v),s.useEffect(()=>{if(i==""){o(h);return}let t=h.filter(r=>r.Name.toUpperCase(i).trim().startsWith(i.toUpperCase().trim()));o(t)},[i]);function F(t){let r=n.filter(S=>S.EmpleadoID!==t);o(r),j(A(t))}return e.jsxs("div",{className:_.EmpContainer,children:[e.jsxs("div",{className:_.SearchDiv,children:[e.jsx("input",{type:"text",placeholder:"Buscar empleado...",onChange:t=>{u(t.target.value)}}),e.jsxs("div",{children:[e.jsx("h2",{children:"Lista de Empleados"}),a&&a=="owner"||a=="Admin"?e.jsx(e.Fragment,{children:e.jsxs("button",{onClick:t=>{c(!0),p("")},children:[" ",e.jsx("i",{className:"fa-solid fa-user-plus"})," Agregar Empleado"]})}):e.jsx(e.Fragment,{})]})]}),e.jsx("div",{className:_.Ent_Table_Container,children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Avatar"}),e.jsx("th",{children:"Nombre"}),e.jsx("th",{children:"Usuario"}),e.jsx("th",{children:"Rol"}),a&&a=="owner"||a=="Admin"?e.jsx("th",{children:"Acciones"}):e.jsx(e.Fragment,{})]})}),e.jsx("tbody",{children:m&&m.length>0?e.jsx(e.Fragment,{children:m.map((t,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("img",{src:t.Img,alt:""})}),e.jsxs("td",{children:[t.Name," ",t.Apellido,"  "]}),e.jsx("td",{children:t.Username}),e.jsx("td",{children:t.Role}),a&&a=="owner"||a=="Admin"?e.jsx("td",{children:e.jsxs("div",{className:_.DivAcctiones,children:[e.jsx("button",{onClick:S=>{c(!0),p(t.EmpleadoID)},children:e.jsx("i",{className:"fa-solid fa-pen-to-square"})}),e.jsx("button",{onClick:S=>{F(t.EmpleadoID)},children:e.jsx("i",{className:"fa-solid fa-trash"})})]})}):e.jsx(e.Fragment,{})]},r))}):e.jsx("tr",{children:e.jsx("td",{colSpan:10,style:{textAlign:"center",padding:0},children:"No hay resultados"})})})]})})]})}function $(D){return e.jsxs("article",{className:d.Article_Empleados,children:[e.jsx(y,{}),e.jsx(T,{}),e.jsxs("div",{className:d.SubContainer,children:[e.jsx(O,{}),e.jsx(G,{})]})]})}export{$ as default};
