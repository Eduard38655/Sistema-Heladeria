import{a as S,u as _,r as a,I as C,f as g,E,j as e,g as T,h as f}from"./index-CjQv8iGK.js";import{N as b,H as N}from"./Nav-BIaDZI_R.js";const A="_article_Time_1yloj_5",y="_SubContainer_1yloj_13",I="_DivAdd_1yloj_26",H="_DivTime_Container_1yloj_39",M="_DivTime_Selects_1yloj_51",V="_DivTime_Inputs_1yloj_77",R="_DivOpt_1yloj_119",n={article_Time:A,SubContainer:y,DivAdd:I,DivTime_Container:H,DivTime_Selects:M,DivTime_Inputs:V,DivOpt:R},$="_Container_Time_6m3t6_5",k="_SearchDiv_6m3t6_21",F="_Table_Container_6m3t6_73",U="_DivAcctiones_6m3t6_122",x={Container_Time:$,SearchDiv:k,Table_Container:F,DivAcctiones:U};function G(){const l=S(),o=_(t=>t.empleadosinfo.UserData),h=_(t=>t.Empleados_DataBase.Empleados_Details),[r,m]=a.useState(""),[i,u]=a.useState(""),{isValid:p,SetisValid:c,EditSchedule:D,SetEditSchedule:d}=a.useContext(C);a.useState(()=>{l(g(E))},[l]),a.useState(()=>{u(o.Role)},[o]);const j=h.filter(t=>{if(!r)return!0;const s=r.trim().toUpperCase();return t.Name.toUpperCase().startsWith(s)||t.Apellido.toUpperCase().startsWith(s)});a.useEffect(()=>{console.log(o,h)},[o,h]);function v(t){l(T(t))}return e.jsxs("div",{className:x.Container_Time,children:[e.jsxs("div",{className:x.SearchDiv,children:[e.jsx("input",{type:"text",value:r,placeholder:"Buscar empleado...",onChange:t=>m(t.target.value)}),e.jsxs("div",{children:[e.jsx("h2",{children:"Horarios de Empleados"}),i&&i=="owner"||i=="Admin"?e.jsx(e.Fragment,{children:e.jsxs("button",{onClick:t=>{c(!0),d("")},children:[" ",e.jsx("i",{className:"fa-solid fa-plus"})," Agregar Horario"]})}):e.jsx(e.Fragment,{})]})]}),e.jsx("div",{className:x.Table_Container,children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Empleado"}),e.jsx("th",{children:"Lunes"}),e.jsx("th",{children:"Martes"}),e.jsx("th",{children:"Miércoles"}),e.jsx("th",{children:"Jueves"}),e.jsx("th",{children:"Viernes"}),e.jsx("th",{children:"Sábado"}),e.jsx("th",{children:"Domingo"}),i&&i=="owner"||i=="Admin"?e.jsx("th",{children:"Acciones"}):e.jsx(e.Fragment,{})]})}),e.jsx("tbody",{children:j.length>0?j.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:`${t.Name} ${t.Apellido}`}),t.horario.map(s=>e.jsxs("td",{children:[s.start," – ",s.end]},s.horarioID)),i&&i=="owner"||i=="Admin"?e.jsx("td",{children:e.jsxs("div",{className:x.DivAcctiones,children:[e.jsx("button",{onClick:s=>{d(`${t.Name} ${t.Apellido} - ${t.Role}`,t.EmpleadoID),c(!0)},children:e.jsx("i",{className:"fa-solid fa-pen-to-square"})}),e.jsx("button",{onClick:s=>{v(t.EmpleadoID)},children:e.jsx("i",{className:"fa-solid fa-trash"})})]})}):e.jsx(e.Fragment,{})]},t.EmpleadoID)):e.jsx("tr",{children:e.jsx("td",{colSpan:10,style:{textAlign:"center",padding:0},children:"No hay resultados"})})})]})})]})}function O(){const l=S(),o=_(s=>s.Empleados_DataBase.Empleados_Details),{isValid:h,SetisValid:r}=a.useContext(C),[m,i]=a.useState(""),[u,p]=a.useState(""),[c,D]=a.useState(""),[d,j]=a.useState(""),v=()=>{r(!1)},t=()=>{if(!m||!u||!c||!d){alert("Todos los campos son obligatorios");return}l(f({NombreEmpleado:m,Horario:u,Start:c,End:d})),r(!1)};return h?e.jsx("div",{className:n.DivAdd,children:e.jsxs("div",{className:n.DivTime_Container,children:[e.jsx("h2",{children:"Agregar / Editar Horario"}),e.jsxs("div",{className:n.DivTime_Selects,children:[e.jsx("label",{children:"Empleado"}),e.jsxs("select",{value:m,onChange:s=>i(s.target.value),children:[e.jsx("option",{value:"",children:"Seleccionar Empleado"}),o.map(s=>e.jsxs("option",{value:s.EmpleadoID,children:[s.Name," ",s.Apellido," - ",s.Role]},s.EmpleadoID))]}),e.jsx("label",{children:"Día de la Semana"}),e.jsxs("select",{value:u,onChange:s=>p(s.target.value),children:[e.jsx("option",{value:"",children:"Seleccionar Día"}),e.jsx("option",{value:"Lunes",children:"Lunes"}),e.jsx("option",{value:"Martes",children:"Martes"}),e.jsx("option",{value:"Miércoles",children:"Miércoles"}),e.jsx("option",{value:"Jueves",children:"Jueves"}),e.jsx("option",{value:"Viernes",children:"Viernes"}),e.jsx("option",{value:"Sábado",children:"Sábado"}),e.jsx("option",{value:"Domingo",children:"Domingo"})]})]}),e.jsxs("div",{className:n.DivTime_Inputs,children:[e.jsxs("div",{children:[e.jsx("label",{children:"Hora de Inicio"}),e.jsx("input",{type:"time",value:c,onChange:s=>D(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Hora de Fin"}),e.jsx("input",{type:"time",value:d,onChange:s=>j(s.target.value)})]})]}),e.jsxs("div",{className:n.DivOpt,children:[e.jsx("button",{onClick:v,children:"Cerrar"}),e.jsx("button",{onClick:t,children:"Guardar"})]})]})}):null}function J(l){return e.jsxs("article",{className:n.article_Time,children:[e.jsx(b,{}),e.jsx(O,{}),e.jsxs("div",{className:n.SubContainer,children:[e.jsx(N,{}),e.jsx(G,{})]})]})}export{J as default};
